{% extends 'App_GameVerse/base.html' %}
<!-- ðŸ”¹ Extiende la plantilla base, heredando navbar, footer y estilos -->

{% load static %}
<!-- ðŸ”¹ Carga el tag 'static' para usar archivos estÃ¡ticos -->

{% block content %}
<!-- ðŸ”¹ Bloque de contenido principal -->

<div class="container py-4">
<!-- ðŸ”¹ Contenedor principal con padding vertical -->

    <h2 class="mb-4">ðŸ›’ Tu Carrito</h2>
    <!-- ðŸ”¹ TÃ­tulo de la secciÃ³n con un icono de carrito -->

    {% if items %}
    <!-- ðŸ”¹ Verifica si hay productos en el carrito -->

    <table class="table table-dark table-striped align-middle text-center">
    <!-- ðŸ”¹ Tabla con estilos de Bootstrap: fondo oscuro, filas rayadas, contenido centrado vertical y horizontal -->
        <thead>
            <tr>
                <th>Producto</th>
                <th>Precio</th>
                <th>Subtotal</th>
                <th></th>
            </tr>
        </thead>

        <tbody>
            {% for item in items %}
            <!-- ðŸ”¹ Itera sobre cada producto en el carrito -->
            <tr>
                <td>{{ item.producto.nombre }}</td>
                <!-- ðŸ”¹ Nombre del producto -->
                <td>${{ item.producto.precio }}</td>
                <!-- ðŸ”¹ Precio individual del producto -->
                <td>${{ item.precio }}</td>
                <!-- ðŸ”¹ Subtotal (igual al precio, ya que no hay cantidad variable) -->
                <td>
                    <a href="{% url 'App_GameVerse:eliminar_del_carrito' item.id_producto %}" 
                       class="btn btn-danger btn-sm">
                    <!-- ðŸ”¹ BotÃ³n para eliminar producto del carrito -->
                        Eliminar
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h4 class="text-end mt-3">
        Total: <strong>${{ total }}</strong>
        <!-- ðŸ”¹ Muestra el total de todos los productos del carrito -->
    </h4>

    <div class="text-end mt-3">
        <a href="{% url 'App_GameVerse:comprar_carrito' %}" 
           class="btn btn-success btn-lg">
        <!-- ðŸ”¹ BotÃ³n para proceder a seleccionar mÃ©todo de pago -->
            Elegir mÃ©todo de pago
        </a>
    </div>

    {% else %}
    <!-- ðŸ”¹ Caso cuando el carrito estÃ¡ vacÃ­o -->
    <h4 class="text-center mt-5">Tu carrito estÃ¡ vacÃ­o</h4>
    <div class="text-center mt-3">
        <a href="{% url 'App_GameVerse:tienda' %}" class="btn btn-primary">
        <!-- ðŸ”¹ BotÃ³n para volver a la tienda -->
            Volver a la tienda
        </a>
    </div>
    {% endif %}

</div>

{% endblock %}
<!-- ðŸ”¹ Fin del bloque de contenido -->
